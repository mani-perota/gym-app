---
description: Reglas principales del proyecto Gym App - React Native con Expo
globs: ["**/*.tsx", "**/*.ts", "**/*.js", "**/*.json"]
alwaysApply: true
---

# üèãÔ∏è Gym App - Reglas del Proyecto

## Stack Tecnol√≥gico

Este proyecto utiliza el siguiente stack:

- **Framework:** React Native con Expo (Managed Workflow SDK 52+)
- **Estilos:** NativeWind v4 (TailwindCSS para React Native)
- **Navegaci√≥n:** Expo Router v4 (file-based routing)
- **Gr√°ficos:** @shopify/react-native-skia para gradientes, blur y sombras
- **Animaciones:** react-native-reanimated v3
- **Fuentes:** expo-google-fonts (Nunito, Quicksand)
- **Iconos:** lucide-react-native
- **TypeScript:** Estricto con interfaces definidas

## Arquitectura de Componentes (Atomic Design)

```
src/
‚îú‚îÄ‚îÄ app/                    # Expo Router - File-based routing
‚îÇ   ‚îú‚îÄ‚îÄ (tabs)/             # Tab navigator group
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ _layout.tsx     # Tab layout configuration
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.tsx       # Home screen
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ progress.tsx    # Progress screen
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ diary.tsx       # Diary screen
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ settings.tsx    # Settings screen
‚îÇ   ‚îî‚îÄ‚îÄ _layout.tsx         # Root layout
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ ui/                 # Componentes at√≥micos reutilizables
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Card.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FabMic.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ GradientBackground.tsx
‚îÇ   ‚îú‚îÄ‚îÄ home/               # Componentes espec√≠ficos de Home
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DailySummaryCard.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RecentActivityList.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ActivityItem.tsx
‚îÇ   ‚îî‚îÄ‚îÄ navigation/         # Componentes de navegaci√≥n
‚îÇ       ‚îî‚îÄ‚îÄ BottomTabBar.tsx
‚îú‚îÄ‚îÄ hooks/                  # Custom hooks
‚îú‚îÄ‚îÄ types/                  # TypeScript interfaces
‚îú‚îÄ‚îÄ constants/              # Constantes (colores, spacing, etc.)
‚îî‚îÄ‚îÄ utils/                  # Utilidades
```

## Convenciones de C√≥digo

### Nomenclatura
- **Componentes:** PascalCase (ej: `DailySummaryCard.tsx`)
- **Hooks:** camelCase con prefijo "use" (ej: `useAnimatedPress.ts`)
- **Tipos/Interfaces:** PascalCase con sufijo descriptivo (ej: `ActivityItemProps`)
- **Constantes:** SCREAMING_SNAKE_CASE (ej: `PASTEL_COLORS`)

### TypeScript
- SIEMPRE usar interfaces para props de componentes
- NUNCA usar `any` - usar `unknown` si es necesario
- Exportar tipos desde `types/index.ts`

```typescript
// ‚úÖ Correcto
interface ActivityItemProps {
  title: string;
  subtitle: string;
  icon: LucideIcon;
  value: string;
  timestamp: string;
  accentColor: 'pink' | 'blue' | 'green';
}

// ‚ùå Incorrecto
const ActivityItem = (props: any) => {...}
```

### Estilos con NativeWind
- Usar clases de Tailwind definidas en `tailwind.config.js`
- NO usar StyleSheet.create() a menos que sea estrictamente necesario
- Colores personalizados prefijados con `pastel-`

```typescript
// ‚úÖ Correcto
<View className="bg-pastel-bg rounded-3xl p-6 shadow-soft">

// ‚ùå Incorrecto - No mezclar estilos inline con NativeWind
<View className="bg-white" style={{ padding: 20 }}>
```

### Skia para Efectos Visuales
- Usar Canvas de Skia para:
  - Gradientes complejos
  - Efectos de blur/glassmorphism
  - Sombras suaves personalizadas
- NO usar `expo-blur` - preferir Skia para mejor rendimiento

```typescript
// ‚úÖ Correcto - Blur con Skia
import { Canvas, Rect, BlurMask } from '@shopify/react-native-skia';

// ‚ùå Incorrecto
import { BlurView } from 'expo-blur';
```

### Animaciones con Reanimated
- Usar `useAnimatedStyle` para animaciones de estilo
- Usar `withSpring` para animaciones naturales
- Usar `useSharedValue` para valores animados

```typescript
// ‚úÖ Correcto
const scale = useSharedValue(1);
const animatedStyle = useAnimatedStyle(() => ({
  transform: [{ scale: scale.value }],
}));
```

## Paleta de Colores (Pastel Theme)

```javascript
colors: {
  "pastel-bg": "#FDFBF7",
  "pastel-card": "#FFFFFF",
  "pastel-text": "#4A4A6A",
  "pastel-blue": "#E0E7FF",
  "pastel-blue-dark": "#818CF8",
  "pastel-pink": "#FCE7F3",
  "pastel-pink-dark": "#F472B6",
  "pastel-green": "#D1FAE5",
  "pastel-green-dark": "#34D399",
  "pastel-lavender": "#E9D5FF",
  "pastel-peach": "#FFedd5",
}
```

## Safe Areas

SIEMPRE usar `SafeAreaView` de `react-native-safe-area-context`:

```typescript
import { SafeAreaView } from 'react-native-safe-area-context';

export default function Screen() {
  return (
    <SafeAreaView className="flex-1 bg-pastel-bg">
      {/* contenido */}
    </SafeAreaView>
  );
}
```

## Expo Router

- Usar grupos de rutas con par√©ntesis: `(tabs)`, `(auth)`
- Layouts con `_layout.tsx`
- Navegaci√≥n tipada con `useRouter`

## Respuestas en Espa√±ol

Todas las respuestas, comentarios en c√≥digo y documentaci√≥n deben estar en espa√±ol.
